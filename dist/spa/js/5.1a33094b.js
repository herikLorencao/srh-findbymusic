(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"300f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex column items-center dark-page list-ratings"},[a("h1",[t._v("Avaliações")]),a("q-table",{staticClass:"table",attrs:{columns:t.columns,data:t.ratings,"row-key":"id",flat:"",dark:"","hide-pagination":""}}),a("q-pagination",{staticClass:"pagination",attrs:{color:"grey-3","text-color":"grey-10",max:t.pagination.pageNumber,"max-pages":5,"direction-links":!0,"boundary-links":!0,"icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward",size:"md",dark:""},on:{input:t.loadItemRatings},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)},i=[],n=(a("e6cf"),a("ddb0"),a("4427")),r=a("eff5");const o=[{name:"name",field:"name",label:"Item",align:"center",sortable:!1},{name:"score",field:"score",label:"Nota",align:"center",sortable:!1}];var c={name:"ListItemRatings",data(){return{columns:o,ratings:[],pagination:{page:1,pageNumber:1}}},methods:{async loadItemRatings(t=1){const e=t-1,a=new n["a"],s=await a.listByEvaluator(this.$store.getters["user/getUserId"],e);if(s&&s.totalPages&&(this.pagination.pageNumber=s.totalPages),s.content){const t=s.content.map((async t=>{const e=new r["a"],a=await e.find(t.itemId);t.itemId=a.id,t.name=a.name,t.id=`${t.itemId}/${t.evaluatorId}`}));await Promise.all(t)}s&&s.content&&(this.ratings=s.content)}},async mounted(){await this.loadItemRatings()}},l=c,u=a("2877"),d=a("9989"),m=a("eaac"),g=a("3b16"),p=a("eebe"),f=a.n(p),h=Object(u["a"])(l,s,i,!1,null,"970a5320",null);e["default"]=h.exports;f()(h,"components",{QPage:d["a"],QTable:m["a"],QPagination:g["a"]})},4427:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("e6cf");var s=a("043f");class i{constructor(){this.client=new s["a"],this.resourceUrl="/itemratings"}async listByProject(t){const e=1;return this.client.getAll(`${this.resourceUrl}/projects/${e}`,t)}async listByEvaluator(t,e){return this.client.getAll(`${this.resourceUrl}/evaluators/${t}`,e)}create(t){return this.client.post(this.resourceUrl,t)}}},eff5:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("e6cf");var s=a("043f"),i=a("7b5e");class n{constructor(){this.client=new s["a"],this.resourceUrl="/itens"}async find(t){return this.client.get(this.resourceUrl,t)}async list(){return this.client.getAll(this.resourceUrl)}async create(t){const e=await this.client.post(this.resourceUrl,t);return e&&Object(i["a"])("positive","Item criado com sucesso"),e}async update(t){const e=await this.client.put(this.resourceUrl,t.id,t);return e&&Object(i["a"])("positive","Item editado com sucesso"),e}async remove(t){const e=await this.client.delete(this.resourceUrl,t);e?Object(i["a"])("positive","Item removido com sucesso"):Object(i["a"])("negative","Verifique se o item não esta sendo usado em um projeto")}async listAttributes(t){return this.client.getAll(`${this.resourceUrl}/${t}/attributes`)}}}}]);