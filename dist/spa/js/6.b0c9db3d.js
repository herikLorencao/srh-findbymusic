(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"300f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex column items-center dark-page list-ratings"},[a("h1",[t._v("Avaliações")]),a("q-table",{staticClass:"table",attrs:{columns:t.columns,data:t.ratings,"row-key":"id",flat:"",dark:"","hide-pagination":""}}),a("q-pagination",{staticClass:"pagination",attrs:{color:"grey-3","text-color":"grey-10",max:t.pagination.pageNumber,"max-pages":5,"direction-links":!0,"boundary-links":!0,"icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward",size:"md",dark:""},on:{input:t.loadItemRatings},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)},i=[],n=(a("e6cf"),a("ddb0"),a("4427")),r=a("043f"),o=a("7b5e");class c{constructor(){this.client=new r["a"],this.resourceUrl="/itens"}async find(t){return this.client.get(this.resourceUrl,t)}async list(){return this.client.getAll(this.resourceUrl)}async create(t){const e=await this.client.post(this.resourceUrl,t);return e&&Object(o["a"])("positive","Item criado com sucesso"),e}async update(t){const e=await this.client.put(this.resourceUrl,t.id,t);return e&&Object(o["a"])("positive","Item editado com sucesso"),e}async remove(t){const e=await this.client.delete(this.resourceUrl,t);e?Object(o["a"])("positive","Item removido com sucesso"):Object(o["a"])("negative","Verifique se o item não esta sendo usado em um projeto")}async listAttributes(t){return this.client.getAll(`${this.resourceUrl}/${t}/attributes`)}}const l=[{name:"name",field:"name",label:"Item",align:"center",sortable:!1},{name:"score",field:"score",label:"Nota",align:"center",sortable:!1}];var u={name:"ListItemRatings",data(){return{columns:l,ratings:[],pagination:{page:1,pageNumber:1}}},methods:{async loadItemRatings(t=1){const e=t-1,a=new n["a"],s=await a.listByEvaluator(this.$store.getters["user/getUserId"],e);if(s&&s.totalPages&&(this.pagination.pageNumber=s.totalPages),s.content){const t=s.content.map((async t=>{const e=new c,a=await e.find(t.itemId);t.itemId=a.id,t.name=a.name,t.id=`${t.itemId}/${t.evaluatorId}`}));await Promise.all(t)}s&&s.content&&(this.ratings=s.content)}},async mounted(){await this.loadItemRatings()}},m=u,d=a("2877"),g=a("9989"),p=a("eaac"),h=a("3b16"),b=a("eebe"),f=a.n(b),w=Object(d["a"])(m,s,i,!1,null,"970a5320",null);e["default"]=w.exports;f()(w,"components",{QPage:g["a"],QTable:p["a"],QPagination:h["a"]})},4427:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("e6cf");var s=a("043f");class i{constructor(){this.client=new s["a"],this.resourceUrl="/itemratings"}async listByProject(t){const e=1;return this.client.getAll(`${this.resourceUrl}/projects/${e}`,t)}async listByEvaluator(t,e){return this.client.getAll(`${this.resourceUrl}/evaluators/${t}`,e)}create(t){return this.client.post(this.resourceUrl,t)}}}}]);